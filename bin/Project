#!/usr/bin/env python
"""
This utility helps with my projects. Valid subcommands:
[1] CreateProject
[2] ListProjects
"""

import os
import sys

sys.path.append(os.path.dirname(os.path.realpath(__file__)) + "/../")
sys.dont_write_bytecode = True

from libs import CreateProject
from libs.Utils import Utils
from libs.Project import Project, ProjectException


def main():
    args = sys.argv
    if len(args) < 2:
        print("ERROR: Command required")
        print(__doc__)
        return 1
    command = args[1]
    args = args[2:]

    if command == "CreateProject":
        try:
            return CreateProject.getopts(args)
        except ProjectException as e:
            Utils.error(str(e))
    elif command == "ListProjects":
        Project.show_projects()
    else:
        print("ERROR: Wrong command: " + command)
        print(__doc__)
        return 1


if __name__ == "__main__":
    main()
